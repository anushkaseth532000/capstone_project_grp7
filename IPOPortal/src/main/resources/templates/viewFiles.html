<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head profile="http://gmpg.org/xfn/11">
<title>IPO On boarding Portal</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="imagetoolbar" content="no" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
	crossorigin="anonymous" />
<link rel="stylesheet" href="../styles/layout.css" type="text/css" />
<link rel="stylesheet" href="../styles/axislanding.css" type="text/css" />
</head>
<body id="top" style="background-color: white;">
	<header class="nav-wrapper">

	<div class="hamburger" id="hamburger">&#9776;</div>
	<img th:src="@{/images/logo-white.png} "
		style="max-width: 100%; height: 120px; width: 180px; margin-left: 8%; margin-top: 2%; z-index: 999;"></img>
	<h3 class="navheading">IPO Onboarding Portal</h3>
	<div class="second-nav">

		<div class="dropdown">
			<a class="dropdown-button" th:href="@{/merchant/upload}">Upload</a> 
			<a class="dropdown-button" th:href="@{/merchant/viewFiles}">View Files</a> 
			<a class="dropdown-button" th:href="@{/merchant/addMerchant}">Add Merchant</a> 
			<a class="dropdown-button" th:href="@{/logout}">Sign Out</a> 
		</div>

	</div>
	</header>
<!-- ####################################################################################################### -->
<div class="wrapper row3">
  <div class="rnd" style="width:1200px;">
    <div id="container" class="clear">
      <!-- ####################################################################################################### -->
      <h1 style="color: #97144d;">View Uploaded File's List</h1>
       
      <div th:switch="${uploads}" style="height:300px; overflow:auto;">
      
	    <h2 th:case="null">No Records Found!</h2>
	    
		    	 <div th:case="*">
		        
		            <table>
		            
		                <thead>
		                
		                    <tr>
		                    	<th>Sno</th>
		                        <th>Upload Id</th>
		                        <th>File Name</th>
		                        <th>File Extension</th>
		                        <th>Message (Error/Success))</th>
		                        <th>Status (Failure/Success)</th>
		                        <th>Recorded Date</th>
		                        <th>Download</th>
		                    </tr>
		                    
		                </thead>
		                
		                <tbody>
		                
		                <tr th:each="m, mstatus : ${uploads}">
		                
		                	<td th:text="${mstatus.count}"></td>
		                    <td th:text="${m.uploadId}"></td>
		                    <td th:text="${m.file_name}"></td>
		                    <td th:text="${m.file_extension}"></td>
		                    <td th:text="${m.message}"></td>	
		                    <td th:text="${m.status} ? 'Success' : 'Failure'"></td>
		                    <td th:text="${m.recordedDate}"></td>	
		                    
		                      
		                    <td th:if="${m.message} != 'Uploaded By Merchant Creation Form'">
		                    	<a th:href="@{/merchant/download/{filename}(filename=${m.file_full_name})}"><img src='../images/Download.png'></img></a>
		                    </td>
		                    
		                    <td th:if="${m.message} != 'Uploaded By Merchant Creation Form'">
		                    	<p>-</p>
		                    </td>
		                    
		                </tr>
		                
		                <tr th:if="${#lists.isEmpty(uploads)}">
		                
		                	<td>&nbsp;</td>
		                    <td>&nbsp;</td>
		                    <td>&nbsp;</td>
		                    <td style="color:red;">No Record Found!</td>
		                    <td>&nbsp;</td>
		                    <td>&nbsp;</td>
		                    <td>&nbsp;</td>
		                    
		                </tr>
		                
		            </tbody>
		            
		        </table>
		        
		    </div> 
		    	    
    </div>
    
   </div>
    
  </div>
    
 </div>
    
</body>
    
</html>
